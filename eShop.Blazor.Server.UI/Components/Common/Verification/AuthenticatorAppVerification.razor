@inject UserState UserState

<MudPaper Outlined="true" Class="pa-5">
    <MudStack Spacing="3">
        <MudTextM3 Align="Align.Center">
            Enter code from your two-factor authenticator app or browser extension
        </MudTextM3>
        <MudForm @ref="form" Model="Model">
            <MudTextFieldExtended
                Variant="Variant.Outlined"
                Margin="Margin.Dense"
                Immediate="true"
                Mask="@mask"
                Placeholder="XXXXXX"
                @bind-Value="Model.Code"/>
        </MudForm>
        <MudLoadingButton
            ButtonType="ButtonType.Button"
            Variant="Variant.Filled"
            Color="Color.Success"
            Size="Size.Small"
            FullWidth="true"
            Disabled="@(Model.Code.Length <= 5)">
            Verify code
        </MudLoadingButton>
    </MudStack>
</MudPaper>

@code {
    [Parameter] 
    public EventCallback OnAccessConfirmed { get; set; }
    
    private CodeModel Model { get; set; } = new();

    private PatternMask mask = new PatternMask("000000");
    private MudForm form = new();

    private Task OnSendAsync()
    {
        return Task.CompletedTask;
    }

}