@if (Model is not null)
{
    <MudPaper Outlined="true" Class="pa-3">
    <MudStack Spacing="1">
        <MudStack Row="true" Spacing="1">
            <MudText Typo="Typo.h6">Primary email</MudText>
            @if (Model.PrimaryEmail is null)
            {
                <MudSpacer/>
                <MudTooltip Text="Add primary email">
                    <MudIconButton
                        Icon="@Icons.Material.Filled.Add"
                        Color="Color.Primary"
                        Variant="Variant.Filled"
                        Href=@($"/account/email/add?type={EmailTypes.Primary}")/>
                </MudTooltip>
            }
        </MudStack>
        @if (Model.PrimaryEmail is not null)
        {
            <MudStack Row="true" Spacing="1">
                <MudText Class="pt-1"> @Model.PrimaryEmail.Email </MudText>
                <MudTooltip Text="Default email address for eAccount">
                    <MudChip
                        T="string"
                        Class="mx-0"
                        Color="Color.Info"
                        Variant="Variant.Outlined"
                        Size="Size.Small">
                        Primary
                    </MudChip>
                </MudTooltip>
                @if (Model.PrimaryEmail.IsVerified && Model.PrimaryEmail.VerifiedDate.HasValue)
                {
                    <MudTooltip
                        Text="@($"Verified at: {Model.PrimaryEmail.VerifiedDate?.ToString("MM/dd/yyyy HH:mm")}")">
                        <MudChip
                            T="string"
                            Class="mx-0"
                            Color="Color.Success"
                            Variant="Variant.Outlined"
                            Size="Size.Small">
                            Verified
                        </MudChip>
                    </MudTooltip>
                }
                else
                {
                    <MudTooltip Text="This email address is not verified">
                        <MudChip
                            T="string"
                            Class="mx-0"
                            Color="Color.Error"
                            Variant="Variant.Outlined"
                            Size="Size.Small">
                            Unverified
                        </MudChip>
                    </MudTooltip>
                }
                @if (Model.PrimaryEmail.UpdateDate.HasValue)
                {
                    <MudTooltip
                        Text="@($"Last change: {Model.PrimaryEmail.UpdateDate?.ToString("MM/dd/yyyy HH:mm")}")">
                        <MudChip
                            T="string"
                            Class="mx-0"
                            Color="Color.Warning"
                            Variant="Variant.Outlined"
                            Size="Size.Small">
                            Changed
                        </MudChip>
                    </MudTooltip>
                }
                <MudSpacer/>
                @if (!Model.PrimaryEmail.IsVerified)
                {
                    <MudTooltip Text="Verify primary email">
                        <MudIconButton
                            Icon="@Icons.Material.Filled.Check"
                            Color="Color.Primary"
                            Variant="Variant.Filled"
                            Href=@($"/account/email/verify?type={EmailTypes.Primary}")/>
                    </MudTooltip>
                }
                else
                {
                    <MudTooltip Text="Remove primary email">
                        <MudIconButton
                            Icon="@Icons.Material.Filled.Delete"
                            Color="Color.Error"
                            Variant="Variant.Filled"
                            Href=@($"/account/email/remove?type={EmailTypes.Primary}")/>
                    </MudTooltip>
                    <MudTooltip Text="Reset primary email">
                        <MudIconButton
                            Icon="@Icons.Material.Filled.ReplayCircleFilled"
                            Color="Color.Secondary"
                            Variant="Variant.Filled"
                            Href="/account/email/reset"/>
                    </MudTooltip>
                    <MudTooltip Text="Change primary email">
                        <MudIconButton
                            Icon="@Icons.Material.Filled.Edit"
                            Color="Color.Primary"
                            Variant="Variant.Filled"
                            Href=@($"/account/email/change?type={EmailTypes.Primary}")/>
                    </MudTooltip>
                }
            </MudStack>
        }
        @if (Model.PrimaryEmail is null)
        {
            <MudText Class="opacity-50" Typo="Typo.caption">
                Primary email address is not provided. Please, provide primary email address.
                Otherwise, you will not be able to receive email notifications.
                Also you will not be able to use email address as 2FA (Two-Factor Authentications) code
                provider.
            </MudText>
        }
        else
        {
            <MudText Class="opacity-50" Typo="Typo.caption">
                This email address is default for eAccount security purposes.
                Also you will receive notifications and verification codes to this email address.
            </MudText>
        }
    </MudStack>
</MudPaper>
}

@code {
    [Parameter] public UserEmailsModel? Model { get; set; }
}