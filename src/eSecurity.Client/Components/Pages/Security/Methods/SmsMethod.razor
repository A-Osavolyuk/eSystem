@using eSecurity.Core.Common.DTOs
@using eSecurity.Core.Security.Authentication.TwoFactor

<MudStack Row="true" Class="px-5">
    <MudIcon Icon="@Icons.Material.Outlined.Sms" Size="Size.Medium" Class="mt-1"/>
    <MudStack Spacing="0">
        <MudStack Row="true" Spacing="1">
            <MudTextM3 Typo="TypoM3.Title" Size="Size.Medium" Class="fw-bold pt-1">
                SMS/Text messages
            </MudTextM3>
            <MudChip
                T="string"
                Class="mx-0"
                Size="Size.Small"
                Color="Color.Error"
                Variant="Variant.Outlined">
                Less secure
            </MudChip>
            @if (Model.SmsEnabled)
            {
                <MudChip
                    T="string"
                    Class="mx-0"
                    Size="Size.Small"
                    Color="Color.Success"
                    Variant="Variant.Outlined">
                    Configured
                </MudChip>
            }
            else
            {
                <MudChip
                    T="string"
                    Class="mx-0"
                    Size="Size.Small"
                    Color="Color.Error"
                    Variant="Variant.Outlined">
                    Not configured
                </MudChip>
            }
            @if (Model.PreferredMethod == TwoFactorMethod.Sms)
            {
                <MudChip
                    T="string"
                    Class="mx-0"
                    Size="Size.Small"
                    Color="Color.Info"
                    Variant="Variant.Outlined">
                    Preferred
                </MudChip>
            }
        </MudStack>
        <MudTextM3 Typo="TypoM3.Body" Size="Size.Small" Class="opacity-50">
            Get one-time codes sent to your phone via SMS to complete authentication requests.
            We strongly advise against using SMS because it is susceptible to interception, does not
            provide
            resistance against phishing attacks, and deliverability can be unreliable.
            It is recommended to use an Authenticator app instead of SMS.
        </MudTextM3>
    </MudStack>
    <MudSpacer/>
    <MudStack>
        <MudButton
            ButtonType="ButtonType.Button"
            Variant="Variant.Outlined"
            Size="Size.Small">
            Add
        </MudButton>
    </MudStack>
</MudStack>

@code {
    [Parameter] public TwoFactorData Model { get; set; } = new();
}