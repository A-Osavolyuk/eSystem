@if (Model.OAuthProviders.Count > 0)
{
    <MudCard Outlined="true" Class="pa-3">
        <MudCardHeader Class="e-card-header">
            <MudStack Spacing="0">
                <MudText Typo="Typo.h6">
                    Linked accounts
                </MudText>
            </MudStack>
        </MudCardHeader>
        <MudCardContent Class="e-card-content" Style="padding-top: 0">
            @foreach (var provider in Model.OAuthProviders)
            {
                <MudStack Spacing="4">
                    <MudStack Row="true" Spacing="1" Class="position-relative">
                        <MudText Style="padding-top: 5px"> @provider.Name</MudText>
                        @if (provider.IsAllowed)
                        {
                            <MudChip
                                T="string"
                                Size="Size.Small"
                                Variant="Variant.Outlined"
                                Color="Color.Success">
                                Allowed
                            </MudChip>
                            <MudText
                                Class="opacity-50 position-absolute"
                                Style="bottom: -18px"
                                Typo="Typo.caption">
                                Linked at: @provider.LinkedDate?.ToString("MM/dd/yyyy HH:mm")
                            </MudText>
                            <MudSpacer/>
                            <MudTooltip Text="Disallow">
                                <MudIconButton
                                    Color="Color.Error"
                                    Class="pt-1"
                                    Icon="@Icons.Material.Filled.Close"
                                    Variant="Variant.Outlined"
                                    ButtonType="ButtonType.Button"/>
                            </MudTooltip>
                        }
                        else
                        {
                            <MudChip
                                T="string"
                                Size="Size.Small"
                                Variant="Variant.Outlined"
                                Color="Color.Error">
                                Disallowed
                            </MudChip>
                            <MudText
                                Class="opacity-50 position-absolute"
                                Style="bottom: -18px"
                                Typo="Typo.caption">
                                Disallowed at: @provider.LinkedDate?.ToString("MM/dd/yyyy HH:mm")
                            </MudText>
                            <MudSpacer/>
                            <MudTooltip Text="Allow">
                                <MudIconButton
                                    Color="Color.Success"
                                    Class="pt-1"
                                    Icon="@Icons.Material.Filled.Check"
                                    Variant="Variant.Outlined"
                                    ButtonType="ButtonType.Button"/>
                            </MudTooltip>
                        }
                    </MudStack>
                </MudStack>
            }
        </MudCardContent>
    </MudCard>
}

@code {
    [Parameter] public UserModel Model { get; set; } = new();
}