@using eShop.BlazorWebUI.Models.Products

@if (Model.Properties is FruitPropertiesModel properties)
{
    <MudGrid Spacing="1" Justify="Justify.Center">
        <MudItem xs="12">
            <MudTextField
                T="string"
                @bind-Value="properties.Color"
                Label="Color"
                Variant="Variant.Outlined"
                Immediate="true"
                Clearable="true">
            </MudTextField>
        </MudItem>
        <MudItem xs="12">
            <MudTextField
                T="string"
                @bind-Value="properties.Variety"
                Label="Variety"
                Variant="Variant.Outlined"
                Immediate="true"
                Clearable="true">
            </MudTextField>
        </MudItem>
        <MudItem xs="12">
            <MudTextField
                T="string"
                @bind-Value="properties.Grade"
                Label="Grade"
                Variant="Variant.Outlined"
                Immediate="true"
                Clearable="true">
            </MudTextField>
        </MudItem>
        <MudItem xs="12">
            <MudTextField
                T="string"
                @bind-Value="properties.CountryOfOrigin"
                Label="Country of origin"
                Variant="Variant.Outlined"
                Immediate="true"
                Clearable="true">
            </MudTextField>
        </MudItem>
        <MudItem xs="12">
            <MudSelect
                T="string"
                @bind-Value="properties.RipenessStage"
                Label="Ripeness stage"
                Variant="Variant.Outlined"
                Immediate="true"
                Clearable="true">
                @foreach (var stage in RipenessStages)
                {
                    <MudSelectItem Value="stage" T="string">@stage</MudSelectItem>
                }
            </MudSelect>
        </MudItem>
        <MudItem xs="12">
            <MudTextField
                T="string"
                @bind-Value="properties.StorageTemperature"
                Label="Storage temperature"
                Variant="Variant.Outlined"
                Immediate="true"
                Clearable="true">
            </MudTextField>
        </MudItem>
        <MudItem xs="6" Class="text-start">
            <MudCheckBox
                @bind-Value="properties.RequiresRefrigeration"
                Label="Requires refrigeration"/>
        </MudItem>
        <MudItem xs="6" Class="text-start">
            <MudCheckBox
                @bind-Value="properties.ContainsSeeds"
                Label="Contains seeds"/>
        </MudItem>
        <MudItem xs="6" Class="text-start">
            <MudCheckBox
                @bind-Value="properties.IsTropical"
                Label="Tropical"/>
        </MudItem>
        <MudItem xs="6" Class="text-start">
            <MudCheckBox
                @bind-Value="properties.IsOrganic"
                Label="Organic"/>
        </MudItem>
    </MudGrid>
}

@code {
    [Parameter] public required ProductModel Model { get; set; }

    private List<string> RipenessStages { get; set; } = ["Unripe", "Partially ripe", "Ripe", "Overripe", "Spoiled"];

    protected override void OnInitialized()
    {
        Model.Properties = new FruitPropertiesModel();
    }
}